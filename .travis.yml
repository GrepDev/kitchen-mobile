language: node_js
node_js:
  - stable
before_install:
  - npm i npm@^4 -g
  - mkdir www
install:
  - npm install -g npm
before_script:
  - npm install -g ionic cordova; cordova platform add android
  - cordova platform rm android
  - cordova platform add android
  - npm install @ionic/app-scripts@latest
  - npm install localforage
  - rm -rf node_modules/@types/localforage
  - export ANDROID_HOME=platforms/android
  - export PATH=platforms/android/sdk/tools
  - android list sdk --all
  - android update sdk -u -a -t 19
  - android update sdk -u -a -t 20
script:
  - ionic cordova build android --release
